# 헤더에서 처리하는 JWT
그동안 JWT를 써오면서 로그인 시 Resoponse의 바디값에 access와 refresh 토큰을 반환해주고, refresh 토큰을 별도로 갱신해주는 API도 따로 만들었었다.  
이번에 새롭게 개발을 진행하면서 같이 작업하던 분이 리프레시하는 JWT를 바디가 아닌 헤더로 토큰을 발급해주는 방식으로 개발을 진행했다.  
항상 토큰을 아무 생각없이 바디값에 담아서 전달해주었는데, 저 개발 내용을 보고 나니 토큰을 어떻게 처리하는게 맞는건지 알고싶어졌다.  
그래서 해당 내용에 대해 정리를 해보려 한다.  

## JWT
JWT는 이전에 한번 정리를 한 적이 있어서, 간단하게 핵심만 다시 짚어보고 넘어가려 한다.

* JSON 을 이용하여 토큰 자체에 사용자 인증 정보를 저장하는 웹 토큰방식
* 서명을 이용하여 인증을 확인함.
* 인증 권한을 부여하거나, 정보 교환 시에 많이 사용함.

JWT는 위와 같은 특징들을 지닌다.  

## 토큰을 제공하는 방식?
그렇다면 위 개발 내용처럼 헤더에 보내주는 것이 맞을까? 아니면 바디에 값을 담아 전달해주는 것이 맞을까?  
몇몇 케이스를 찾아보며 내린 결론은 둘 다 상관없다는 것이다. 나름대로 생각해본 이유는 아래와 같다.

### 헤더에 담아 보내는 경우?
헤더에 담을 경우 장점은 보안성이 높아진다는 것이다. 토큰 발급을 위한 API를 호출 시 바디에 담아 전달할 경우,  
사용자 로그인을 위한 API를 호출 하면 바디값에 토큰정보가 그대로 노출되게 된다. 헤더에 토큰을 담으면 API를 호출하더라도  
바디값에 노출되지 않기 때문에, 보안성이 조금이나마 올라간다고 생각된다. 



### 바디에 담아서 보내는 경우?




https://velog.io/@hiy7030/Spring-Security-JWT-Token
https://velog.io/@kwontae1313/JSON-Web-Token%EC%9D%80-%EC%99%9C-%ED%97%A4%EB%8D%94%EB%A1%9C-%EC%A3%BC%EA%B3%A0%EB%B0%9B%EC%9D%84%EA%B9%8C